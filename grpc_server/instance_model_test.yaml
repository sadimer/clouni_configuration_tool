- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          configure:
            implementation: ansible-operation-example.yaml
            inputs:
              test:
                token:
                - get_attribute:
                  - HOST
                  - private_v4
                - .
                - 1
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test:
                concat:
                - v
                - get_attribute:
                  - HOST
                  - private_v4
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_server
      - dependency:
          node: tosca_server_example_keypair
      - dependency:
          node: tosca_server_example_floating_ip
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: ubuntu
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          configure:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: ubuntu
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        meta: cube_master=true
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: Ubuntu-Server-20.04-LTS-Focal-Fossa
      type: openstack.nodes.Server

- relationship_templates:
    test_relationship_hosted_on_1:
      interfaces:
        Configure:
          add_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          post_configure_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: 1.0
          post_configure_target:
            implementation: ansible-operation-example.yaml
            inputs:
              test:
                get_attribute:
                - TARGET
                - private_v4
          pre_configure_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          pre_configure_target:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
      properties:
        test: value
      type: openstack.relationships.HostedOn

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: ubuntu
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        meta: cube_master=true
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: Ubuntu-Server-20.04-LTS-Focal-Fossa
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: ubuntu
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        meta: cube_master=true
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: Ubuntu-Server-20.04-LTS-Focal-Fossa
      type: openstack.nodes.Server

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          configure:
            implementation: ansible-operation-example.yaml
            inputs:
              test:
                token:
                - get_attribute:
                  - HOST
                  - private_v4
                - .
                - 1
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test:
                concat:
                - v
                - get_attribute:
                  - HOST
                  - private_v4
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_server
      - dependency:
          node: tosca_server_example_keypair
      - dependency:
          node: tosca_server_example_floating_ip
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: ubuntu
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          configure:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: ubuntu
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        meta: cube_master=true
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: Ubuntu-Server-20.04-LTS-Focal-Fossa
      type: openstack.nodes.Server

- relationship_templates:
    test_relationship_hosted_on_1:
      interfaces:
        Configure:
          add_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          post_configure_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: 1.0
          post_configure_target:
            implementation: ansible-operation-example.yaml
            inputs:
              test:
                get_attribute:
                - TARGET
                - private_v4
          pre_configure_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          pre_configure_target:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
      properties:
        test: value
      type: openstack.relationships.HostedOn

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: ubuntu
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        meta: cube_master=true
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: Ubuntu-Server-20.04-LTS-Focal-Fossa
      type: openstack.nodes.Server

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          configure:
            implementation: ansible-operation-example.yaml
            inputs:
              test:
                token:
                - get_attribute:
                  - HOST
                  - private_v4
                - .
                - 1
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test:
                concat:
                - v
                - get_attribute:
                  - HOST
                  - private_v4
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_server
      - dependency:
          node: tosca_server_example_keypair
      - dependency:
          node: tosca_server_example_floating_ip
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: ubuntu
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          configure:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: ubuntu
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        meta: cube_master=true
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: Ubuntu-Server-20.04-LTS-Focal-Fossa
      type: openstack.nodes.Server

- relationship_templates:
    test_relationship_hosted_on_1:
      interfaces:
        Configure:
          add_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          post_configure_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: 1.0
          post_configure_target:
            implementation: ansible-operation-example.yaml
            inputs:
              test:
                get_attribute:
                - TARGET
                - private_v4
          pre_configure_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          pre_configure_target:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
      properties:
        test: value
      type: openstack.relationships.HostedOn

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: ubuntu
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        meta: cube_master=true
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: Ubuntu-Server-20.04-LTS-Focal-Fossa
      type: openstack.nodes.Server

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          configure:
            implementation: ansible-operation-example.yaml
            inputs:
              test:
                token:
                - get_attribute:
                  - HOST
                  - private_v4
                - .
                - 1
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test:
                concat:
                - v
                - get_attribute:
                  - HOST
                  - private_v4
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_server
      - dependency:
          node: tosca_server_example_keypair
      - dependency:
          node: tosca_server_example_floating_ip
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: ubuntu
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          configure:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: ubuntu
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        meta: cube_master=true
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: Ubuntu-Server-20.04-LTS-Focal-Fossa
      type: openstack.nodes.Server

- relationship_templates:
    test_relationship_hosted_on_1:
      interfaces:
        Configure:
          add_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          post_configure_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: 1.0
          post_configure_target:
            implementation: ansible-operation-example.yaml
            inputs:
              test:
                get_attribute:
                - TARGET
                - private_v4
          pre_configure_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          pre_configure_target:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
      properties:
        test: value
      type: openstack.relationships.HostedOn

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: ubuntu
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        meta: cube_master=true
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: Ubuntu-Server-20.04-LTS-Focal-Fossa
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: ubuntu
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - meta: cube_master=true
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          configure:
            implementation: ansible-operation-example.yaml
            inputs:
              test: 1.0
              test_2:
                get_attribute:
                - tosca_server_example_server
                - private_v4
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_keypair
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_server
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          configure:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      type: openstack.nodes.Server

- relationship_templates:
    test_relationship_hosted_on_1:
      interfaces:
        Configure:
          add_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          post_configure_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: 1.0
          post_configure_target:
            implementation: ansible-operation-example.yaml
            inputs:
              test: 10.100.150.11
          pre_configure_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          pre_configure_target:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
      properties:
        test: value
      type: openstack.relationships.HostedOn

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          configure:
            implementation: ansible-operation-example.yaml
            inputs:
              test:
                token:
                - 1.0
                - .
                - 1
              test_2:
                concat:
                - 'addr: '
                - get_attribute:
                  - tosca_server_example_server
                  - private_v4
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_keypair
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_server
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          configure:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      type: openstack.nodes.Server

- relationship_templates:
    test_relationship_hosted_on_1:
      interfaces:
        Configure:
          add_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          post_configure_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: 1.0
          post_configure_target:
            implementation: ansible-operation-example.yaml
            inputs:
              test: 10.100.150.11
          pre_configure_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          pre_configure_target:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
      properties:
        test: value
      type: openstack.relationships.HostedOn

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          configure:
            implementation: ansible-operation-example.yaml
            inputs:
              test:
                token:
                - 1.0
                - .
                - 1
              test_2:
                concat:
                - 'addr: '
                - get_attribute:
                  - tosca_server_example_floating_ip
                  - floating_ip_address
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_keypair
      - dependency:
          node: tosca_server_example_server
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          configure:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      type: openstack.nodes.Server

- relationship_templates:
    test_relationship_hosted_on_1:
      interfaces:
        Configure:
          add_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          post_configure_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: 1.0
          post_configure_target:
            implementation: ansible-operation-example.yaml
            inputs:
              test: 10.100.150.11
          pre_configure_source:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
          pre_configure_target:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
      properties:
        test: value
      type: openstack.relationships.HostedOn

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test_id_host:
                get_attribute:
                - tosca_server_example_server
                - id
              test_id_net:
                get_attribute:
                - tosca_network_network
                - id
              test_ip:
                get_attribute:
                - tosca_port_port
                - fixed_ips
              test_private:
                get_attribute:
                - tosca_server_example_server
                - private_v4
              test_public:
                get_attribute:
                - tosca_server_example_floating_ip
                - floating_ip_address
              test_seg:
                get_attribute:
                - tosca_network_network
                - provider:segmentation_id
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_server
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_keypair
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_network_network_1:
      properties:
        name: test_network
        provider_network_type: geneve
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        gateway_ip: 192.168.56.1
        name: test_network
      requirements:
      - network_name:
          node: tosca_network_network
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
      requirements:
      - network:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_network_network_1:
      attributes:
        created_at: '2022-11-18T13:53:26Z'
        id: 5de01642-f423-4610-b2ab-080f2b436245
        mtu: 1500
        name: test_network
        provider:network_type: geneve
        provider:segmentation_id: 5
        updated_at: '2022-11-18T13:53:26Z'
      properties:
        admin_state_up: true
        external: false
        name: test_network
        provider_network_type: geneve
        shared: false
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      attributes:
        allocation_pools:
        - end: 192.168.56.200
          start: 192.168.56.50
        cidr: 192.168.56.0/24
        created_at: '2022-11-18T13:53:34Z'
        gateway_ip: 192.168.56.1
        id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        name: test_network
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        enable_dhcp: true
        extra_specs: {}
        gateway_ip: 192.168.56.1
        ip_version: 4
        name: test_network
        no_gateway_ip: false
        use_default_subnetpool: false
      requirements:
      - network_name:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      attributes:
        created_at: '2022-11-18T13:53:43Z'
        dns_assignment:
        - fqdn: host-192-168-56-100.openstacklocal.
          hostname: host-192-168-56-100
          ip_address: 192.168.56.100
        fixed_ips:
        - ip_address: 192.168.56.100
          subnet_id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        id: 3d11d550-6a5d-43fc-8dfe-9106946d176b
        mac_address: fa:16:3e:6b:a3:d9
        name: 192.168.56.100
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:43Z'
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
        vnic_type: normal
      requirements:
      - network:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test_id_host:
                get_attribute:
                - tosca_server_example_server
                - id
              test_id_net:
                get_attribute:
                - tosca_network_network
                - id
              test_private:
                get_attribute:
                - tosca_server_example_server
                - private_v4
              test_public:
                get_attribute:
                - tosca_server_example_floating_ip
                - floating_ip_address
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_server
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_keypair
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_network_network_1:
      properties:
        name: test_network
        provider_network_type: geneve
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        gateway_ip: 192.168.56.1
        name: test_network
      requirements:
      - network_name:
          node: tosca_network_network
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
      requirements:
      - network:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      type: openstack.nodes.Server

- node_templates:
    tosca_network_network_1:
      attributes:
        created_at: '2022-11-18T13:53:26Z'
        id: 5de01642-f423-4610-b2ab-080f2b436245
        mtu: 1500
        name: test_network
        provider:network_type: geneve
        provider:segmentation_id: 5
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        admin_state_up: true
        external: false
        name: test_network
        provider_network_type: geneve
        shared: false
      type: openstack.nodes.Network

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_network_subnet_1:
      attributes:
        allocation_pools:
        - end: 192.168.56.200
          start: 192.168.56.50
        cidr: 192.168.56.0/24
        created_at: '2022-11-18T13:53:34Z'
        gateway_ip: 192.168.56.1
        id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        name: test_network
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        enable_dhcp: true
        extra_specs: {}
        gateway_ip: 192.168.56.1
        ip_version: 4
        name: test_network
        no_gateway_ip: false
        use_default_subnetpool: false
      requirements:
      - network_name:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      attributes:
        created_at: '2022-11-18T13:53:43Z'
        dns_assignment:
        - fqdn: host-192-168-56-100.openstacklocal.
          hostname: host-192-168-56-100
          ip_address: 192.168.56.100
        fixed_ips:
        - ip_address: 192.168.56.100
          subnet_id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        id: 3d11d550-6a5d-43fc-8dfe-9106946d176b
        mac_address: fa:16:3e:6b:a3:d9
        name: 192.168.56.100
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:43Z'
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
        vnic_type: normal
      requirements:
      - network:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test_id_host:
                get_attribute:
                - tosca_server_example_server
                - id
              test_id_net:
                get_attribute:
                - tosca_network_network
                - id
              test_ip:
                get_attribute:
                - tosca_port_port
                - fixed_ips
              test_private:
                get_attribute:
                - tosca_server_example_server
                - private_v4
              test_public:
                get_attribute:
                - tosca_server_example_floating_ip
                - floating_ip_address
              test_seg:
                get_attribute:
                - tosca_network_network
                - provider:segmentation_id
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_server
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_keypair
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_network_network_1:
      properties:
        name: test_network
        provider_network_type: geneve
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        gateway_ip: 192.168.56.1
        name: test_network
      requirements:
      - network_name:
          node: tosca_network_network
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
      requirements:
      - network:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.Server

- node_templates:
    tosca_network_network_1:
      attributes:
        created_at: '2022-11-18T13:53:26Z'
        id: 5de01642-f423-4610-b2ab-080f2b436245
        mtu: 1500
        name: test_network
        provider:network_type: geneve
        provider:segmentation_id: 5
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        admin_state_up: true
        external: false
        name: test_network
        provider_network_type: geneve
        shared: false
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      attributes:
        allocation_pools:
        - end: 192.168.56.200
          start: 192.168.56.50
        cidr: 192.168.56.0/24
        created_at: '2022-11-18T13:53:34Z'
        gateway_ip: 192.168.56.1
        id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        name: test_network
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        enable_dhcp: true
        extra_specs: {}
        gateway_ip: 192.168.56.1
        ip_version: 4
        name: test_network
        no_gateway_ip: false
        use_default_subnetpool: false
      requirements:
      - network_name:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      attributes:
        created_at: '2022-11-18T13:53:43Z'
        dns_assignment:
        - fqdn: host-192-168-56-100.openstacklocal.
          hostname: host-192-168-56-100
          ip_address: 192.168.56.100
        fixed_ips:
        - ip_address: 192.168.56.100
          subnet_id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        id: 3d11d550-6a5d-43fc-8dfe-9106946d176b
        mac_address: fa:16:3e:6b:a3:d9
        name: 192.168.56.100
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:43Z'
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
        vnic_type: normal
      requirements:
      - network:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test_public:
                get_attribute:
                - tosca_server_example_floating_ip
                - floating_ip_address
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_server
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_keypair
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_network_network_1:
      properties:
        name: test_network
        provider_network_type: geneve
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        gateway_ip: 192.168.56.1
        name: test_network
      requirements:
      - network_name:
          node: tosca_network_network
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
      requirements:
      - network:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.Server

- node_templates:
    tosca_network_network_1:
      attributes:
        created_at: '2022-11-18T13:53:26Z'
        id: 5de01642-f423-4610-b2ab-080f2b436245
        mtu: 1500
        name: test_network
        provider:network_type: geneve
        provider:segmentation_id: 5
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        admin_state_up: true
        external: false
        name: test_network
        provider_network_type: geneve
        shared: false
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      attributes:
        allocation_pools:
        - end: 192.168.56.200
          start: 192.168.56.50
        cidr: 192.168.56.0/24
        created_at: '2022-11-18T13:53:34Z'
        gateway_ip: 192.168.56.1
        id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        name: test_network
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        enable_dhcp: true
        extra_specs: {}
        gateway_ip: 192.168.56.1
        ip_version: 4
        name: test_network
        no_gateway_ip: false
        use_default_subnetpool: false
      requirements:
      - network_name:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      attributes:
        created_at: '2022-11-18T13:53:43Z'
        dns_assignment:
        - fqdn: host-192-168-56-100.openstacklocal.
          hostname: host-192-168-56-100
          ip_address: 192.168.56.100
        fixed_ips:
        - ip_address: 192.168.56.100
          subnet_id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        id: 3d11d550-6a5d-43fc-8dfe-9106946d176b
        mac_address: fa:16:3e:6b:a3:d9
        name: 192.168.56.100
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:43Z'
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
        vnic_type: normal
      requirements:
      - network:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test_id_host:
                get_attribute:
                - tosca_server_example_server
                - id
              test_id_net:
                get_attribute:
                - tosca_network_network
                - id
              test_ip:
                get_attribute:
                - tosca_port_port
                - fixed_ips
              test_private:
                get_attribute:
                - tosca_server_example_server
                - private_v4
              test_public:
                get_attribute:
                - tosca_server_example_floating_ip
                - floating_ip_address
              test_seg:
                get_attribute:
                - tosca_network_network
                - provider:segmentation_id
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_server
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_keypair
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_network_network_1:
      properties:
        name: test_network
        provider_network_type: geneve
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        gateway_ip: 192.168.56.1
        name: test_network
      requirements:
      - network_name:
          node: tosca_network_network
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
      requirements:
      - network:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.Server

- node_templates:
    tosca_network_network_1:
      attributes:
        created_at: '2022-11-18T13:53:26Z'
        id: 5de01642-f423-4610-b2ab-080f2b436245
        mtu: 1500
        name: test_network
        provider:network_type: geneve
        provider:segmentation_id: 5
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        admin_state_up: true
        external: false
        name: test_network
        provider_network_type: geneve
        shared: false
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      attributes:
        allocation_pools:
        - end: 192.168.56.200
          start: 192.168.56.50
        cidr: 192.168.56.0/24
        created_at: '2022-11-18T13:53:34Z'
        gateway_ip: 192.168.56.1
        id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        name: test_network
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        enable_dhcp: true
        extra_specs: {}
        gateway_ip: 192.168.56.1
        ip_version: 4
        name: test_network
        no_gateway_ip: false
        use_default_subnetpool: false
      requirements:
      - network_name:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      attributes:
        created_at: '2022-11-18T13:53:43Z'
        dns_assignment:
        - fqdn: host-192-168-56-100.openstacklocal.
          hostname: host-192-168-56-100
          ip_address: 192.168.56.100
        fixed_ips:
        - ip_address: 192.168.56.100
          subnet_id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        id: 3d11d550-6a5d-43fc-8dfe-9106946d176b
        mac_address: fa:16:3e:6b:a3:d9
        name: 192.168.56.100
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:43Z'
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
        vnic_type: normal
      requirements:
      - network:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test_id_host:
                get_attribute:
                - tosca_server_example_server
                - id
              test_id_net:
                get_attribute:
                - tosca_network_network
                - id
              test_ip:
                get_attribute:
                - tosca_port_port
                - fixed_ips
              test_private:
                get_attribute:
                - tosca_server_example_server
                - private_v4
              test_public:
                get_attribute:
                - tosca_server_example_floating_ip
                - floating_ip_address
              test_seg:
                get_attribute:
                - tosca_network_network
                - provider:segmentation_id
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_server
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_keypair
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_network_network_1:
      properties:
        name: test_network
        provider_network_type: geneve
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        gateway_ip: 192.168.56.1
        name: test_network
      requirements:
      - network_name:
          node: tosca_network_network
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
      requirements:
      - network:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.Server

- node_templates:
    tosca_network_network_1:
      attributes:
        created_at: '2022-11-18T13:53:26Z'
        id: 5de01642-f423-4610-b2ab-080f2b436245
        mtu: 1500
        name: test_network
        provider:network_type: geneve
        provider:segmentation_id: 5
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        admin_state_up: true
        external: false
        name: test_network
        provider_network_type: geneve
        shared: false
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      attributes:
        allocation_pools:
        - end: 192.168.56.200
          start: 192.168.56.50
        cidr: 192.168.56.0/24
        created_at: '2022-11-18T13:53:34Z'
        gateway_ip: 192.168.56.1
        id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        name: test_network
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        enable_dhcp: true
        extra_specs: {}
        gateway_ip: 192.168.56.1
        ip_version: 4
        name: test_network
        no_gateway_ip: false
        use_default_subnetpool: false
      requirements:
      - network_name:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      attributes:
        created_at: '2022-11-18T13:53:43Z'
        dns_assignment:
        - fqdn: host-192-168-56-100.openstacklocal.
          hostname: host-192-168-56-100
          ip_address: 192.168.56.100
        fixed_ips:
        - ip_address: 192.168.56.100
          subnet_id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        id: 3d11d550-6a5d-43fc-8dfe-9106946d176b
        mac_address: fa:16:3e:6b:a3:d9
        name: 192.168.56.100
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:43Z'
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
        vnic_type: normal
      requirements:
      - network:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
              test_id_host:
                get_attribute:
                - tosca_server_example_server
                - id
              test_id_net:
                get_attribute:
                - tosca_network_network
                - id
              test_ip:
                get_attribute:
                - tosca_port_port
                - fixed_ips
              test_private:
                get_attribute:
                - tosca_server_example_server
                - private_v4
              test_public:
                get_attribute:
                - tosca_server_example_floating_ip
                - floating_ip_address
              test_seg:
                get_attribute:
                - tosca_network_network
                - provider:segmentation_id
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_server
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_keypair
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_network_network_1:
      properties:
        name: test_network
        provider_network_type: geneve
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        gateway_ip: 192.168.56.1
        name: test_network
      requirements:
      - network_name:
          node: tosca_network_network
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
      requirements:
      - network:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.Server

- node_templates:
    tosca_network_network_1:
      attributes:
        created_at: '2022-11-18T13:53:26Z'
        id: 5de01642-f423-4610-b2ab-080f2b436245
        mtu: 1500
        name: test_network
        provider:network_type: geneve
        provider:segmentation_id: 5
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        admin_state_up: true
        external: false
        name: test_network
        provider_network_type: geneve
        shared: false
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      attributes:
        allocation_pools:
        - end: 192.168.56.200
          start: 192.168.56.50
        cidr: 192.168.56.0/24
        created_at: '2022-11-18T13:53:34Z'
        gateway_ip: 192.168.56.1
        id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        name: test_network
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        enable_dhcp: true
        extra_specs: {}
        gateway_ip: 192.168.56.1
        ip_version: 4
        name: test_network
        no_gateway_ip: false
        use_default_subnetpool: false
      requirements:
      - network_name:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      attributes:
        created_at: '2022-11-18T13:53:43Z'
        dns_assignment:
        - fqdn: host-192-168-56-100.openstacklocal.
          hostname: host-192-168-56-100
          ip_address: 192.168.56.100
        fixed_ips:
        - ip_address: 192.168.56.100
          subnet_id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        id: 3d11d550-6a5d-43fc-8dfe-9106946d176b
        mac_address: fa:16:3e:6b:a3:d9
        name: 192.168.56.100
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:43Z'
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
        vnic_type: normal
      requirements:
      - network:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
              test_id_host:
                get_attribute:
                - tosca_server_example_server
                - id
              test_id_net:
                get_attribute:
                - tosca_network_network
                - id
              test_ip:
                get_attribute:
                - tosca_port_port
                - fixed_ips
              test_private:
                get_attribute:
                - tosca_server_example_server
                - private_v4
              test_public:
                get_attribute:
                - tosca_server_example_floating_ip
                - floating_ip_address
              test_seg:
                get_attribute:
                - tosca_network_network
                - provider:segmentation_id
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_server
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_keypair
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_network_network_1:
      properties:
        name: test_network
        provider_network_type: geneve
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        gateway_ip: 192.168.56.1
        name: test_network
      requirements:
      - network_name:
          node: tosca_network_network
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
      requirements:
      - network:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_port_port
      type: openstack.nodes.Server

- node_templates:
    tosca_network_network_1:
      attributes:
        created_at: '2022-11-18T13:53:26Z'
        id: 5de01642-f423-4610-b2ab-080f2b436245
        mtu: 1500
        name: test_network
        provider:network_type: geneve
        provider:segmentation_id: 5
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        admin_state_up: true
        external: false
        name: test_network
        provider_network_type: geneve
        shared: false
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      attributes:
        allocation_pools:
        - end: 192.168.56.200
          start: 192.168.56.50
        cidr: 192.168.56.0/24
        created_at: '2022-11-18T13:53:34Z'
        gateway_ip: 192.168.56.1
        id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        name: test_network
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        enable_dhcp: true
        extra_specs: {}
        gateway_ip: 192.168.56.1
        ip_version: 4
        name: test_network
        no_gateway_ip: false
        use_default_subnetpool: false
      requirements:
      - network_name:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Subnet

- node_templates:
    tosca_port_port_1:
      attributes:
        created_at: '2022-11-18T13:53:43Z'
        dns_assignment:
        - fqdn: host-192-168-56-100.openstacklocal.
          hostname: host-192-168-56-100
          ip_address: 192.168.56.100
        fixed_ips:
        - ip_address: 192.168.56.100
          subnet_id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        id: 3d11d550-6a5d-43fc-8dfe-9106946d176b
        mac_address: fa:16:3e:6b:a3:d9
        name: 192.168.56.100
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:43Z'
      properties:
        admin_state_up: true
        fixed_ips:
        - ip_address: 192.168.56.100
        name: 192.168.56.100
        port_security_enabled: false
        vnic_type: normal
      requirements:
      - network:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.Port

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_port_port
          node_filter:
            properties:
            - admin_state_up: true
            - fixed_ips:
              - ip_address: 192.168.56.100
            - name: 192.168.56.100
            - port_security_enabled: false
            - id: '{{ tosca_port_port_delete }}'
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          create:
            implementation: ansible-operation-example.yaml
            inputs:
              test: test
              test_id_host:
                get_attribute:
                - tosca_server_example_server
                - id
              test_id_net:
                get_attribute:
                - tosca_network_network
                - id
              test_private:
                get_attribute:
                - tosca_server_example_server
                - private_v4
              test_public:
                get_attribute:
                - tosca_server_example_floating_ip
                - floating_ip_address
              test_seg:
                get_attribute:
                - tosca_network_network
                - provider:segmentation_id
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_keypair
      - dependency:
          node: tosca_server_example_server
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_network_network_1:
      properties:
        name: test_network
        provider_network_type: geneve
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        gateway_ip: 192.168.56.1
        name: test_network
      requirements:
      - network_name:
          node: tosca_network_network
      type: openstack.nodes.Subnet

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.Server

- node_templates:
    tosca_network_network_1:
      attributes:
        created_at: '2022-11-18T13:53:26Z'
        id: 5de01642-f423-4610-b2ab-080f2b436245
        mtu: 1500
        name: test_network
        provider:network_type: geneve
        provider:segmentation_id: 5
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        admin_state_up: true
        external: false
        name: test_network
        provider_network_type: geneve
        shared: false
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      attributes:
        allocation_pools:
        - end: 192.168.56.200
          start: 192.168.56.50
        cidr: 192.168.56.0/24
        created_at: '2022-11-18T13:53:34Z'
        gateway_ip: 192.168.56.1
        id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        name: test_network
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        enable_dhcp: true
        extra_specs: {}
        gateway_ip: 192.168.56.1
        ip_version: 4
        name: test_network
        no_gateway_ip: false
        use_default_subnetpool: false
      requirements:
      - network_name:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Subnet

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          create:
            implementation:
            - ansible-operation-example.yaml
            - ansible-operation-example.yaml
            inputs:
              test: test
              test_id_host:
                get_attribute:
                - tosca_server_example_server
                - id
              test_id_net:
                get_attribute:
                - tosca_network_network
                - id
              test_private:
                get_attribute:
                - tosca_server_example_server
                - private_v4
              test_public:
                get_attribute:
                - tosca_server_example_floating_ip
                - floating_ip_address
              test_seg:
                get_attribute:
                - tosca_network_network
                - provider:segmentation_id
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_keypair
      - dependency:
          node: tosca_server_example_server
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_network_network_1:
      properties:
        name: test_network
        provider_network_type: geneve
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        gateway_ip: 192.168.56.1
        name: test_network
      requirements:
      - network_name:
          node: tosca_network_network
      type: openstack.nodes.Subnet

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.Server

- node_templates:
    tosca_network_network_1:
      attributes:
        created_at: '2022-11-18T13:53:26Z'
        id: 5de01642-f423-4610-b2ab-080f2b436245
        mtu: 1500
        name: test_network
        provider:network_type: geneve
        provider:segmentation_id: 5
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        admin_state_up: true
        external: false
        name: test_network
        provider_network_type: geneve
        shared: false
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      attributes:
        allocation_pools:
        - end: 192.168.56.200
          start: 192.168.56.50
        cidr: 192.168.56.0/24
        created_at: '2022-11-18T13:53:34Z'
        gateway_ip: 192.168.56.1
        id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        name: test_network
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        enable_dhcp: true
        extra_specs: {}
        gateway_ip: 192.168.56.1
        ip_version: 4
        name: test_network
        no_gateway_ip: false
        use_default_subnetpool: false
      requirements:
      - network_name:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Subnet

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          create:
            implementation:
            - ansible-operation-example.yaml
            - ansible-operation-example.yaml
            inputs:
              test: test
              test_id_host:
                get_attribute:
                - tosca_server_example_server
                - id
              test_id_net:
                get_attribute:
                - tosca_network_network
                - id
              test_private:
                get_attribute:
                - tosca_server_example_server
                - private_v4
              test_public:
                get_attribute:
                - tosca_server_example_floating_ip
                - floating_ip_address
              test_seg:
                get_attribute:
                - tosca_network_network
                - provider:segmentation_id
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_keypair
      - dependency:
          node: tosca_server_example_server
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_network_network_1:
      properties:
        name: test_network
        provider_network_type: geneve
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        gateway_ip: 192.168.56.1
        name: test_network
      requirements:
      - network_name:
          node: tosca_network_network
      type: openstack.nodes.Subnet

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.Server

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          create:
            implementation:
            - ansible-operation-example.yaml
            - ansible-operation-example.yaml
            inputs:
              test: test
              test_id_host:
                get_attribute:
                - tosca_server_example_server
                - id
              test_id_net:
                get_attribute:
                - tosca_network_network
                - id
              test_private:
                get_attribute:
                - tosca_server_example_server
                - private_v4
              test_public:
                get_attribute:
                - tosca_server_example_floating_ip
                - floating_ip_address
              test_seg:
                get_attribute:
                - tosca_network_network
                - provider:segmentation_id
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_keypair
      - dependency:
          node: tosca_server_example_server
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_network_network_1:
      properties:
        name: test_network
        provider_network_type: geneve
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        gateway_ip: 192.168.56.1
        name: test_network
      requirements:
      - network_name:
          node: tosca_network_network
      type: openstack.nodes.Subnet

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.Server

- node_templates:
    tosca_network_network_1:
      attributes:
        created_at: '2022-11-18T13:53:26Z'
        id: 5de01642-f423-4610-b2ab-080f2b436245
        mtu: 1500
        name: test_network
        provider:network_type: geneve
        provider:segmentation_id: 5
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        admin_state_up: true
        external: false
        name: test_network
        provider_network_type: geneve
        shared: false
      type: openstack.nodes.Network

- node_templates:
    tosca_network_network_1:
      attributes:
        created_at: '2022-11-18T13:53:26Z'
        id: 5de01642-f423-4610-b2ab-080f2b436245
        mtu: 1500
        name: test_network
        provider:network_type: geneve
        provider:segmentation_id: 5
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        admin_state_up: true
        external: false
        name: test_network
        provider_network_type: geneve
        shared: false
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      attributes:
        allocation_pools:
        - end: 192.168.56.200
          start: 192.168.56.50
        cidr: 192.168.56.0/24
        created_at: '2022-11-18T13:53:34Z'
        gateway_ip: 192.168.56.1
        id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        name: test_network
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        enable_dhcp: true
        extra_specs: {}
        gateway_ip: 192.168.56.1
        ip_version: 4
        name: test_network
        no_gateway_ip: false
        use_default_subnetpool: false
      requirements:
      - network_name:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Subnet

- node_templates:
    tosca_network_subnet_1:
      attributes:
        allocation_pools:
        - end: 192.168.56.200
          start: 192.168.56.50
        cidr: 192.168.56.0/24
        created_at: '2022-11-18T13:53:34Z'
        gateway_ip: 192.168.56.1
        id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        name: test_network
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        enable_dhcp: true
        extra_specs: {}
        gateway_ip: 192.168.56.1
        ip_version: 4
        name: test_network
        no_gateway_ip: false
        use_default_subnetpool: false
      requirements:
      - network_name:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Subnet

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          create:
            implementation:
              primary: ansible-operation-example.yaml
            inputs:
              test: test
              test_id_host:
                get_attribute:
                - tosca_server_example_server
                - id
              test_id_net:
                get_attribute:
                - tosca_network_network
                - id
              test_private:
                get_attribute:
                - tosca_server_example_server
                - private_v4
              test_public:
                get_attribute:
                - tosca_server_example_floating_ip
                - floating_ip_address
              test_seg:
                get_attribute:
                - tosca_network_network
                - provider:segmentation_id
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_keypair
      - dependency:
          node: tosca_server_example_server
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_network_network_1:
      properties:
        name: test_network
        provider_network_type: geneve
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        gateway_ip: 192.168.56.1
        name: test_network
      requirements:
      - network_name:
          node: tosca_network_network
      type: openstack.nodes.Subnet

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.Server

- node_templates:
    tosca_network_network_1:
      attributes:
        created_at: '2022-11-18T13:53:26Z'
        id: 5de01642-f423-4610-b2ab-080f2b436245
        mtu: 1500
        name: test_network
        provider:network_type: geneve
        provider:segmentation_id: 5
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        admin_state_up: true
        external: false
        name: test_network
        provider_network_type: geneve
        shared: false
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      attributes:
        allocation_pools:
        - end: 192.168.56.200
          start: 192.168.56.50
        cidr: 192.168.56.0/24
        created_at: '2022-11-18T13:53:34Z'
        gateway_ip: 192.168.56.1
        id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        name: test_network
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        enable_dhcp: true
        extra_specs: {}
        gateway_ip: 192.168.56.1
        ip_version: 4
        name: test_network
        no_gateway_ip: false
        use_default_subnetpool: false
      requirements:
      - network_name:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Subnet

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          create:
            implementation:
              primary: ansible-operation-example.yaml
            inputs:
              test: test
              test_id_host:
                get_attribute:
                - tosca_server_example_server
                - id
              test_id_net:
                get_attribute:
                - tosca_network_network
                - id
              test_private:
                get_attribute:
                - tosca_server_example_server
                - private_v4
              test_public:
                get_attribute:
                - tosca_server_example_floating_ip
                - floating_ip_address
              test_seg:
                get_attribute:
                - tosca_network_network
                - provider:segmentation_id
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_keypair
      - dependency:
          node: tosca_server_example_server
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_network_network_1:
      properties:
        name: test_network
        provider_network_type: geneve
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        gateway_ip: 192.168.56.1
        name: test_network
      requirements:
      - network_name:
          node: tosca_network_network
      type: openstack.nodes.Subnet

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_network
      - dependency:
          node: tosca_network_subnet
      type: openstack.nodes.Server

- node_templates:
    tosca_network_network_1:
      attributes:
        created_at: '2022-11-18T13:53:26Z'
        id: 5de01642-f423-4610-b2ab-080f2b436245
        mtu: 1500
        name: test_network
        provider:network_type: geneve
        provider:segmentation_id: 5
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        admin_state_up: true
        external: false
        name: test_network
        provider_network_type: geneve
        shared: false
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      attributes:
        allocation_pools:
        - end: 192.168.56.200
          start: 192.168.56.50
        cidr: 192.168.56.0/24
        created_at: '2022-11-18T13:53:34Z'
        gateway_ip: 192.168.56.1
        id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        name: test_network
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        enable_dhcp: true
        extra_specs: {}
        gateway_ip: 192.168.56.1
        ip_version: 4
        name: test_network
        no_gateway_ip: false
        use_default_subnetpool: false
      requirements:
      - network_name:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Subnet

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      type: openstack.nodes.FloatingIp

- node_templates:
    service_1_server_example_1:
      interfaces:
        Standard:
          create:
            implementation:
              primary: ansible-operation-example.yaml
            inputs:
              test: test
              test_id_host:
                get_attribute:
                - tosca_server_example_server
                - id
              test_id_net:
                get_attribute:
                - tosca_network_network
                - id
              test_private:
                get_attribute:
                - tosca_server_example_server
                - private_v4
              test_public:
                get_attribute:
                - tosca_server_example_floating_ip
                - floating_ip_address
              test_seg:
                get_attribute:
                - tosca_network_network
                - provider:segmentation_id
      properties:
        component_version: 1.0
      requirements:
      - host:
          node: tosca_server_example_server
          relationship: test_relationship_hosted_on
      - dependency:
          node: tosca_server_example_floating_ip
      - dependency:
          node: tosca_server_example_server
      - dependency:
          node: tosca_server_example_keypair
      type: clouni.nodes.ServerExample

- node_templates:
    tosca_network_network_1:
      properties:
        name: test_network
        provider_network_type: geneve
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        gateway_ip: 192.168.56.1
        name: test_network
      requirements:
      - network_name:
          node: tosca_network_network
      type: openstack.nodes.Subnet

- node_templates:
    tosca_server_example_floating_ip_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_public_address
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      type: openstack.nodes.FloatingIp

- node_templates:
    tosca_server_example_keypair_1:
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
          delete:
            implementation: delete_host.yaml
            inputs:
              server_name: tosca_server_example_server_private_address
      properties:
        auto_ip: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
      requirements:
      - key_name:
          node: tosca_server_example_keypair
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_subnet
      - dependency:
          node: tosca_network_network
      type: openstack.nodes.Server

- node_templates:
    tosca_network_network_1:
      attributes:
        created_at: '2022-11-18T13:53:26Z'
        id: 5de01642-f423-4610-b2ab-080f2b436245
        mtu: 1500
        name: test_network
        provider:network_type: geneve
        provider:segmentation_id: 5
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        admin_state_up: true
        external: false
        name: test_network
        provider_network_type: geneve
        shared: false
      type: openstack.nodes.Network

- node_templates:
    tosca_network_subnet_1:
      attributes:
        allocation_pools:
        - end: 192.168.56.200
          start: 192.168.56.50
        cidr: 192.168.56.0/24
        created_at: '2022-11-18T13:53:34Z'
        gateway_ip: 192.168.56.1
        id: 0198fb6a-67e0-4b58-8d3c-a7c830f532f1
        name: test_network
        network_id: 5de01642-f423-4610-b2ab-080f2b436245
        updated_at: '2022-11-18T13:53:34Z'
      properties:
        allocation_pool_end: 192.168.56.200
        allocation_pool_start: 192.168.56.50
        cidr: 192.168.56.0/24
        enable_dhcp: true
        extra_specs: {}
        gateway_ip: 192.168.56.1
        ip_version: 4
        name: test_network
        no_gateway_ip: false
        use_default_subnetpool: false
      requirements:
      - network_name:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Subnet

- node_templates:
    tosca_server_example_keypair_1:
      attributes:
        fingerprint: 17:8e:08:a8:3a:e3:7c:8b:55:1a:73:b6:ea:d9:a9:44
        id: tosca_server_example_keypair
        name: tosca_server_example_keypair
        public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDw3jP4QKZsEI1cx/zJbn0RXtPff5GDHiI5YOwpaAmDF+PBQgvPriwPvvtiDAS1QdxZjgKA/hiocHQA28GHilcjVlbwrWdj68wZojZd9f5qsdKH7erI7XXP1pudBLFwgCVf2mwpshF17+Y/c4JAEoGrjm8/wbAvvw7TyMw9kQeX+JSpljs+jyV56l2CF6OMSWT3T2N2nsDzkSe5czh9tZo1QsxSM7yt0n1gDElzgcWUkNVhyhcu01EBr7OKdJDU9rCatVhVhHmHXua6L/PCyggNBqcKRpkJW+WS/+Td1soRD5uygNTjpGbdzI0Qtm3UkOJMOLI8OR5pfnn2o5ARsbRKztTv5xo40hZKAZxa9uAOgdZWStYTRdy1FlwRla4/B0E0dXLpzmPV+Q58k31J98d2z7duY31aAUWqYMh14EXLHz/HQIaQAQRRhAY6v8sGr2F1IjqrMQ74Z6h5T1MI3rNg3PrwRx0QQ2d6RiUN1btzPCYkPCXZeQXSr4B2LBAe8JosdD4sOViGKklIrwIuBtQZuCEHfLsY+WHwo7qkeTcWQEiEOWNnFGKbFpIGEY9ENS2baCgo+CwTNTsxYoVqy7JFMBOs9M8phKSQSi/RZB4Dv9520JReSHP+xMTtK4/Q2+rh6nO9u0OvFTMTxnCWAA9YixD33eWtyEfQ3UWqp1wGcw==
        type: ssh
      properties:
        name: tosca_server_example_keypair
        public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
      requirements:
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Keypair

- node_templates:
    tosca_server_example_server_1:
      attributes:
        addresses:
          test_ext:
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: fixed
            addr: 192.168.0.234
            version: 4
          - OS-EXT-IPS-MAC:mac_addr: fa:16:3e:18:72:2b
            OS-EXT-IPS:type: floating
            addr: 10.100.149.79
            version: 4
        created_at: '2022-11-18T09:51:47Z'
        id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
        launched_at: '2022-11-18T09:49:32.000000'
        name: tosca_server_example
        private_v4: 192.168.0.234
        public_v4: 10.100.149.79
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_private_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_private_address_"
                + item, tosca_server_example_server.results[item | int - 1].server.public_v4
                ]] }}'
      properties:
        auto_ip: false
        boot_from_volume: false
        config_drive: false
        name: tosca_server_example
        nics:
        - net-name: test_ext
        reuse_ips: true
      requirements:
      - key_name:
          node: tosca_server_example_keypair
          node_filter:
            properties:
            - name: tosca_server_example_keypair
            - public_key: '{{ lookup(''file'', ''~/.ssh/id_rsa.pub'') }}'
            - id: '{{ tosca_server_example_keypair_delete }}'
      - flavor:
          node_filter:
            properties:
            - vcpus: 1
            - disk: 10.0
            - ram: 1024.0
      - image:
          node_filter:
            properties:
            - name: cirros-0.4.0-x86_64
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.Server

- node_templates:
    tosca_server_example_floating_ip_1:
      attributes:
        created_at: '2022-11-18T11:37:07Z'
        fixed_ip_address: 192.168.0.234
        floating_ip_address: 10.100.149.79
        id: 338ae876-49f7-49f1-beb4-7fbb8793453e
        network: f9bc23b8-54d7-444a-9520-6c0c8b174936
        port: 1e978575-b7d6-4e11-83b0-5f37122c0599
        port_details:
          admin_state_up: true
          device_id: b8f992f6-21e8-4d1d-bef4-0da4b44aec02
          device_owner: compute:nova
          mac_address: fa:16:3e:18:72:2b
          name: ''
          network_id: f9846285-2e41-4d68-9df4-5dd92ccba037
          status: ACTIVE
        updated_at: '2022-11-18T11:37:09Z'
      interfaces:
        Standard:
          create:
            implementation: add_host.yaml
            inputs:
              ansible_user: cirros
              group: tosca_server_example_server_public_address
              host_ip: '{{ host_ip | default([]) + [[ "tosca_server_example_public_address_"
                + item, tosca_server_example_floating_ip.results[item | int - 1].floating_ip.floating_ip_address
                ]] }}'
      properties:
        floating_ip_address: 10.100.150.11
      requirements:
      - server:
          node: tosca_server_example_server
          node_filter:
            properties:
            - auto_ip: false
            - name: tosca_server_example
            - nics:
              - net-name: test_ext
            - id: '{{ tosca_server_example_server_delete }}'
      - network:
          node_filter:
            properties:
            - name: ispras
      - dependency:
          node: tosca_network_subnet
          node_filter:
            properties:
            - allocation_pool_end: 192.168.56.200
            - allocation_pool_start: 192.168.56.50
            - cidr: 192.168.56.0/24
            - gateway_ip: 192.168.56.1
            - name: test_network
            - id: '{{ tosca_network_subnet_delete }}'
      - dependency:
          node: tosca_network_network
          node_filter:
            properties:
            - name: test_network
            - provider_network_type: geneve
            - id: '{{ tosca_network_network_delete }}'
      type: openstack.nodes.FloatingIp

